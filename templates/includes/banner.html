{% set parent = this.ancestors[1] | default(value="_index.md") %}
{% set parent = get_section(path=parent, metadata_only=true) %}
{% if this.extra.banner %}
  {% set file = this.extra.banner %}
{% else %}
  {% set file = parent.extra.banner | default(value="/img/banners/banner_trees.jpg") %}
{% endif %}
{% set banner = "../static" ~ file %}

<picture class="banner">
  <source media="(orientation:portrait)" srcset="
    {{ resize_image(path=banner, width=792, height=1408) }} 1408w,
    {{ resize_image(path=banner, width=720, height=1280) }} 720w,
    {{ resize_image(path=banner, width=360, height=640) }} 360w" sizes="100vw" />

  <source media="(orientation:landscape)" srcset="
    {{ resize_image(path=banner, width=2560, height=1440) }} 2560w,
    {{ resize_image(path=banner, width=1920, height=1080) }} 1920w,
    {{ resize_image(path=banner, width=1280, height=720) }} 1280w,
    {{ resize_image(path=banner, width=640, height=360) }} 640w" sizes="100vw" />

  <img src="{{ resize_image(path=banner, width=1920, height=1080) }}" alt="" loading="eager" />
</picture>